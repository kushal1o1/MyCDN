<!DOCTYPE html>
<html>
<head>
    <title>CDN Login</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    {% include 'styles.html' %}
</head>
<body>
    <div class="login-container">
        <div class="header">
            <i-lucide data-icon="image"></i-lucide>
            <h1>CDN Admin</h1>
            <p>Sign in to manage your images</p>
        </div>

        {% if request.query_params.get('error') == '1' %}
        <div class="error-message show" id="error-message">
            <i-lucide data-icon="alert-circle"></i-lucide>
            <span>Invalid username or password</span>
        </div>
        {% else %}
        <div class="error-message" id="error-message">
            <i-lucide data-icon="alert-circle"></i-lucide>
            <span></span>
        </div>
        {% endif %}

        <form id="login-form">
            <div class="form-group">
                <label for="username">Username</label>
                <div class="input-group">
                    <i-lucide data-icon="user"></i-lucide>
                    <input type="text" id="username" name="username" class="form-input" placeholder="Enter your username" required>
                </div>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <div class="input-group">
                    <i-lucide data-icon="lock"></i-lucide>
                    <input type="password" id="password" name="password" class="form-input" placeholder="Enter your password" required>
                </div>
            </div>

            <div class="form-group">
                <label for="captcha">CAPTCHA</label>
                <div class="input-group captcha-group">
                    <img id="captcha-image" src="/api/captcha" alt="CAPTCHA">
                    <button type="button" id="refresh-captcha" class="refresh-btn">
                        <i-lucide data-icon="refresh-cw"></i-lucide>
                    </button>
                    <input type="text" id="captcha" name="captcha" class="form-input" placeholder="Enter CAPTCHA" required>
                </div>
            </div>

            <button type="submit" class="login-btn">
                <i-lucide data-icon="log-in"></i-lucide>
                Sign In
            </button>
        </form>
    </div>

    {% include 'scripts.html' %}
    <script src="{{ url_for('static', path='auth.js') }}"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>
</html> 